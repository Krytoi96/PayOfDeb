<!DOCTYPE HTML>
<html>
<head>
    <title>PayOfDeb - –†–∞–±–æ—á–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <div class="settings-panel">
            <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            
            <div class="control-group">
                <label>–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞:</label>
                <select id="scheduleType" onchange="toggleScheduleSettings()">
                    <option value="5-2">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 5/2</option>
                    <option value="2-2">–°–º–µ–Ω–Ω—ã–π 2/2</option>
                </select>
            </div>

            <div id="shiftSettings" style="display: none; background: #e3f2fd; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                <label style="color: #0277bd;">–î–∞—Ç–∞ –ø–µ—Ä–≤–æ–π —Å–º–µ–Ω—ã:</label>
                <input type="date" id="cycleStartDate" onchange="saveSettings()">
            </div>

            <div class="control-group">
                <label>–û–∫–ª–∞–¥ (—Ä—É–±):</label>
                <input type="number" id="salaryInput" value="50000">
            </div>
            
            <div class="control-group">
                <label>–ù–æ—Ä–º–∞ —á–∞—Å–æ–≤ (–∞–≤—Ç–æ):</label>
                <input type="number" id="normHoursInput" value="164" readonly style="background: #f0f0f0;">
            </div>

            <hr>
            <h4>‚è∞ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–µ–Ω—å</h4>
            <div class="time-inputs-row">
                <input type="time" id="settingStart" value="09:00" onchange="saveSettings()"> - 
                <input type="time" id="settingEnd" value="18:00" onchange="saveSettings()">
            </div>
            
            <div class="control-group" style="margin-top: 10px;">
                <label>–ú–Ω–æ–∂–∏—Ç–µ–ª—å –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏:</label>
                <select id="overtimeMultiplier" onchange="saveSettings()">
                    <option value="1.5">x1.5</option>
                    <option value="2" selected>x2.0</option>
                </select>
            </div>

            <div class="stats-box">
                <p>–°—Ç–∞–≤–∫–∞ –≤ —á–∞—Å: <strong id="hourRate">0.00</strong> —Ä—É–±.</p>
                <hr>
                <p>–ß–∞—Å—ã: <strong id="totalHoursMonth" style="color: #007bff;">0</strong></p>
                <p style="font-size: 0.9em; color: #dc3545;">–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: <span id="totalOvertimeMonth">0</span> —á.</p>
                <p>–ó–∞—Ä–ø–ª–∞—Ç–∞: <strong id="totalMoneyMonth" style="color: #28a745; font-size: 1.4em;">0</strong> —Ä—É–±.</p>
            </div>

            <hr>
            <h4>‚ö° –î–µ–π—Å—Ç–≤–∏—è</h4>
            <button class="btn-primary" onclick="fillMonth()">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ –≥—Ä–∞—Ñ–∏–∫—É</button>
            <button class="btn-danger" onclick="clearMonthData()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
        </div>

        <div class="calendar-wrapper">
            <div class="calendar-header">
                <h3>üóì –†–ê–ë–û–ß–ò–ô –ö–ê–õ–ï–ù–î–ê–†–¨</h3>
                <div class="selectors">
                    <select id="monthSelect">
                        <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                        <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                        <option value="2">–ú–∞—Ä—Ç</option>
                        <option value="3">–ê–ø—Ä–µ–ª—å</option>
                        <option value="4">–ú–∞–π</option>
                        <option value="5">–ò—é–Ω—å</option>
                        <option value="6">–ò—é–ª—å</option>
                        <option value="7">–ê–≤–≥—É—Å—Ç</option>
                        <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                        <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                        <option value="10">–ù–æ—è–±—Ä—å</option>
                        <option value="11">–î–µ–∫–∞–±—Ä—å</option>
                    </select>
                    <select id="yearSelect"></select>
                </div>
            </div>
            
            <table class="calendar-table">
                <thead>
                    <tr><th>–ü–Ω</th><th>–í—Ç</th><th>–°—Ä</th><th>–ß—Ç</th><th>–ü—Ç</th><th>–°–±</th><th>–í—Å</th></tr>
                </thead>
                <tbody id="days"></tbody>
            </table>
        </div>
    </div>

    <div id="dayModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3 id="modalDateTitle">–î–∞—Ç–∞</h3>
            
            <div id="weekendBlock" style="display:none; background: #ffe6e6; padding: 10px; border-radius: 5px; margin-bottom: 10px;">
                <label style="color: #d9534f; font-weight: bold;">
                    <input type="checkbox" id="isWorkedCheckbox" onchange="toggleWorkInputs()"> 
                    <span id="holidayLabel">–†–∞–±–æ—Ç–∞ –≤ –≤—ã—Ö–æ–¥–Ω–æ–π</span>
                </label>
            </div>

            <div id="workInputsBlock">
                <div class="input-row">
                    <label>–ù–∞—á–∞–ª–æ:</label>
                    <input type="time" id="modalStart">
                </div>
                <div class="input-row">
                    <label>–ö–æ–Ω–µ—Ü:</label>
                    <input type="time" id="modalEnd">
                </div>
                <div class="input-row">
                    <label>–ü–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω):</label>
                    <input type="number" id="modalBreak" value="60" step="10">
                </div>
                
                <hr style="border: 0; border-top: 1px solid #eee; margin: 10px 0;">
                
                <div class="input-row">
                    <label>–í—Å–µ–≥–æ —á–∞—Å–æ–≤:</label>
                    <span id="modalTotalHours" style="font-weight: bold;">0</span>
                </div>
                
                <div class="input-row" style="background: #fff3cd; padding: 5px; border-radius: 4px;">
                    <label>–û–ø–ª–∞—Ç–∏—Ç—å –∫–∞–∫ x2:</label>
                    <input type="number" id="modalOvertime" step="0.5" style="width: 60px; font-weight: bold; color: #d39e00;">
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-save" onclick="saveDayData()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn-delete" onclick="deleteDayData()">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="../js/generateCalendar.js"></script>
</body>
</html>